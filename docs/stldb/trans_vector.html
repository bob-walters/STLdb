<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Class template trans_vector</title>
<link rel="stylesheet" href="../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="../index.html" title="Chapter 1. STLdb 1.0">
<link rel="up" href="../stldb_reference.html#header..Users.bobw.workspaces.STLdb.stldb_lib.stldb.containers.trans_vector_h" title="Header &lt;/Users/bobw/workspaces/STLdb/stldb_lib/stldb/containers/trans_vector.h&gt;">
<link rel="prev" href="../CHECK_CHECKSUM.html" title="Macro CHECK_CHECKSUM">
<link rel="next" href="create_or_recover_t.html" title="Struct create_or_recover_t">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr><td valign="top"><img alt="STLdb" width="253" height="108" src="../images/stldb_logo.png"></td></tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../CHECK_CHECKSUM.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../stldb_reference.html#header..Users.bobw.workspaces.STLdb.stldb_lib.stldb.containers.trans_vector_h"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="create_or_recover_t.html"><img src="../images/next.png" alt="Next"></a>
</div>
<div class="refentry">
<a name="stldb.trans_vector"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2><span class="refentrytitle">Class template trans_vector</span></h2>
<p>stldb::trans_vector</p>
</div>
<h2 xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv-title">Synopsis</h2>
<div xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv"><pre class="synopsis"><span class="comment">// In header: &lt;<a class="link" href="../stldb_reference.html#header..Users.bobw.workspaces.STLdb.stldb_lib.stldb.containers.trans_vector_h" title="Header &lt;/Users/bobw/workspaces/STLdb/stldb_lib/stldb/containers/trans_vector.h&gt;">/Users/bobw/workspaces/STLdb/stldb_lib/stldb/containers/trans_vector.h</a>&gt;

</span><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> T<span class="special">,</span> <span class="keyword">typename</span> Alloc<span class="special">,</span> 
         <span class="keyword">typename</span> Lock <span class="special">=</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">interprocess</span><span class="special">::</span><span class="identifier">interprocess_upgradable_mutex</span><span class="special">,</span> 
         <span class="keyword">typename</span> CondVar <span class="special">=</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">interprocess</span><span class="special">::</span><span class="identifier">interprocess_condition</span><span class="special">&gt;</span> 
<span class="keyword">class</span> <a class="link" href="trans_vector.html" title="Class template trans_vector">trans_vector</a> <span class="special">:</span> <span class="keyword">public</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">vector</span><span class="special">&lt;</span> <span class="identifier">TransEntry</span><span class="special">&lt;</span> <span class="identifier">T</span> <span class="special">&gt;</span><span class="special">,</span> <span class="identifier">Alloc</span> <span class="special">&gt;</span> <span class="special">{</span>
<span class="keyword">public</span><span class="special">:</span>
  <span class="comment">// <a class="link" href="trans_vector.html#stldb.trans_vectorconstruct-copy-destruct">construct/copy/destruct</a></span>
  <a class="link" href="trans_vector.html#idp105544917741840-bb"><span class="identifier">trans_vector</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>
<span class="special">}</span><span class="special">;</span></pre></div>
<div class="refsect1">
<a name="idp105545218241680"></a><h2>Description</h2>
<p>A transactional, concurrent vector.</p>
<p>The vector has a lock on it, which can be held for a short duration when operations are performed which read or modify entries of the vector. Support for adding new entries or removing entries is provided, but those operations must hold the lock until the transaction is committed, forcing the transactions to serialize.</p>
<p>The rationale for this is that the O(1) random access characteristics of the vector are key to the use of it, and the use of a vector typically means that changes in the vectors allocated capacity, and operations like deleting rows, are typically more expensive than on other container types (e.g. list). Thus, if you are using a vector, those operations are probably rare compared to the use of random or iterative access to the vector's contents. I have tried to model transactional performance to match this assumption.</p>
<p>Ops which read or modify existing entries establish row-level locks via an indicator on the individual entries. MCC is provided so that readers are not blocked by uncommitted write locks for pending changes to a row. </p>
<div class="refsect2">
<a name="idp105545218243088"></a><h3>
<a name="stldb.trans_vectorconstruct-copy-destruct"></a><code class="computeroutput">trans_vector</code> 
        public
       construct/copy/destruct</h3>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><pre class="literallayout"><a name="idp105544917741840-bb"></a><span class="identifier">trans_vector</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre></li></ol></div>
</div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright © 2009 Bob Walters<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../CHECK_CHECKSUM.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../stldb_reference.html#header..Users.bobw.workspaces.STLdb.stldb_lib.stldb.containers.trans_vector_h"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="create_or_recover_t.html"><img src="../images/next.png" alt="Next"></a>
</div>
</body>
</html>
