<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Building STLdb</title>
<link rel="stylesheet" href="../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="../index.html" title="Chapter 1. STLdb 1.0">
<link rel="up" href="../index.html" title="Chapter 1. STLdb 1.0">
<link rel="prev" href="intro.html" title="Introduction">
<link rel="next" href="quickstart.html" title="Quick Start Guide">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr><td valign="top"><img alt="STLdb" width="253" height="108" src="../images/stldb_logo.png"></td></tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="intro.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="quickstart.html"><img src="../images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="stldb.build"></a><a class="link" href="build.html" title="Building STLdb">Building STLdb</a>
</h2></div></div></div>
<p>
      STLdb depends on several libraries within the Boost project. It also uses the
      Boost build (bjam), documentation (quickbook), and testing tools. Thus, you
      can begin by building the boost distribution to validate that you have correctly
      configured boost to work with your compiler. Thereafter, building STLdb will
      be a matter of running bjam to build one additional library.
    </p>
<p>
      The recommended process is as follows:
    </p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
          Start by building boost 1.39 or later on your machine, using the standard
          boost build process. During the bootstrapping phases of this process, the
          bjam executable is built, and it is then used to build the rest of the
          boost library. The bjam executable is also used to build STLdb
        </li>
<li class="listitem">
          Once boost is built, untar a tgz distribution of stldb somewhere.
        </li>
<li class="listitem">
          set the BOOST_ROOT environment variable to the directory containing your
          boost distribution, and then
        </li>
</ol></div>
<pre class="programlisting"><span class="identifier">cd</span> <span class="identifier">stldb_lib</span>
<span class="identifier">bjam</span> <span class="identifier">toolset</span><span class="special">=&lt;</span><span class="identifier">yours</span><span class="special">&gt;</span> <span class="identifier">variant</span><span class="special">=</span><span class="identifier">debug</span><span class="special">,</span><span class="identifier">release</span> <span class="identifier">link</span><span class="special">=</span><span class="identifier">shared</span>
<span class="identifier">cd</span> <span class="special">../</span><span class="identifier">dist</span>
</pre>
<p>
      The debug and release versions of the libraries will be in debug and release
      directories under dist/.
    </p>
<p>
      One some platforms this process may yield a link problem when trying to link
      log_inspector using the shared version of the STLdb library. To overcome this,
      do an initial build with
    </p>
<pre class="programlisting"><span class="identifier">bjam</span> <span class="identifier">toolset</span><span class="special">=&lt;</span><span class="identifier">yours</span><span class="special">&gt;</span> <span class="identifier">variant</span><span class="special">=</span><span class="identifier">debug</span><span class="special">,</span><span class="identifier">release</span> <span class="identifier">link</span><span class="special">=</span><span class="keyword">static</span> <span class="identifier">log_inspector</span>
</pre>
<p>
      to build a static version of STLdb, and statically linked log_inspector, and
      then you can
    </p>
<pre class="programlisting"><span class="identifier">bjam</span> <span class="identifier">toolset</span><span class="special">=&lt;</span><span class="identifier">yours</span><span class="special">&gt;</span> <span class="identifier">variant</span><span class="special">=</span><span class="identifier">debug</span><span class="special">,</span><span class="identifier">release</span> <span class="identifier">link</span><span class="special">=</span><span class="identifier">shared</span> <span class="identifier">stldb</span>
</pre>
<p>
      to build shared versions of the stldb library.
    </p>
<p>
      Once the STLdb library is built, to use it you will simply need to include
      $BOOST_ROOT and the stldb_lib directory in your compiler's include path (-I)
      and link with the libraries in dist (either the debug or release versions.)
    </p>
<p>
      Thus far, STLdb has been successfully built with the following compilers /
      platforms
    </p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
          gcc 4.2 on MacOS x86_64 (Snow Leopard) and gcc 4.1 on MacOS i686 (Leopard)
        </li>
<li class="listitem">
          gcc 4.4.1 on Linux (Fedora) x86_64
        </li>
<li class="listitem">
          gcc 3.4.2 on Solaris 10
        </li>
<li class="listitem">
          Visual C++ 9.0 on MS Windows XP 32-bit.
        </li>
<li class="listitem">
          gcc 3.4.2/cygwin on MS Windows XP 32-bit.
        </li>
</ul></div>
<p>
      If you run into problems building STLdb using bjam, please write to me at &lt;bob.s.walters
      at gmail dot com&gt;, and I'll try to help resolve the issue. Please make certain
      though that you have first been able to build the boost libraries using bjam
      as a prerequisite.
    </p>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright © 2009 Bob Walters<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="intro.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="quickstart.html"><img src="../images/next.png" alt="Next"></a>
</div>
</body>
</html>
